import"./script-Dn5OBM5d.js";import{I as i,J as c}from"./inputmask-CjtBnGIC.js";class d{popUp;backdrop;constructor(){this.popUp=document.querySelector(".pop-up"),this.backdrop=document.querySelector(".pop-up__backdrop"),this.init()}init(){this.addEventListeners(),this.openPopup()}addEventListeners(){this.backdrop&&this.backdrop.addEventListener("click",()=>this.closePopup())}openPopup(){setTimeout(()=>{this.popUp.classList.add("active")},1e3)}closePopup(){this.popUp.classList.remove("active")}}class o{formId;validator;constructor(e){this.formId=e,this.validator=new c(this.formId),this.initializeValidation()}initializeValidation(){this.validator.addField("#card-numb",[{rule:"required",errorMessage:"Ведіть номер картки"}]).addField("#date",[{rule:"required",errorMessage:"Введіть термін дії картки"}]).addField("#cvv",[{rule:"required",errorMessage:"Введіть CVV"}]).addField("#name",[{rule:"required",errorMessage:"Введіть ІМ'Я власника"},{rule:"customRegexp",value:/^[a-zA-Z]+$/,errorMessage:"Введіть ІМ'Я літерами"},{rule:"minLength",value:2,errorMessage:"Мінімальна кількість літер 2"}]).addField("#summ",[{rule:"required",errorMessage:"Введіть суму"},{rule:"number",errorMessage:"Введіть коректне число"},{rule:"minNumber",value:1,errorMessage:"Сума повинна бути 0"}]).addField("#checkbox",[{rule:"required",errorMessage:"Необхідно погодитись з умовами"}]).onSuccess(e=>{new d,e.target.reset()})}}class l{constructor(){this.init()}init(){document.querySelectorAll(".tabs__nav-btn").forEach(t=>{const s=t.getAttribute("data-tab"),r=document.querySelector(s+" .form");this.applyMasks(r),r.getAttribute("id")=="form-card"?new o("#form-card"):r.getAttribute("id")=="form-paypal"&&new o("#form-paypal")})}applyMasks(e){i({mask:"9999 9999 9999 9999",placeholder:" "}).mask(e.querySelector("#card-numb")),i({mask:"99/99",placeholder:" "}).mask(e.querySelector("#date")),i({mask:"999",placeholder:""}).mask(e.querySelector("#cvv"))}}class n{tabsBtn;tabsItems;constructor(e,t){this.tabsBtn=document.querySelectorAll(e),this.tabsItems=document.querySelectorAll(t),this.init()}init(){this.tabsBtn.forEach(t=>{t.addEventListener("click",()=>this.onTabClick(t))});const e=this.tabsBtn[0];e&&e.click()}onTabClick(e){const t=e.getAttribute("data-tab"),s=t?document.querySelector(t):null;if(!s){console.error(`Tab with ID "${t}" not found.`);return}e.classList.contains("active")||(this.resetActiveStates(),e.classList.add("active"),s.classList.add("active"))}resetActiveStates(){this.tabsBtn.forEach(e=>e.classList.remove("active")),this.tabsItems.forEach(e=>e.classList.remove("active"))}}document.addEventListener("DOMContentLoaded",async()=>{new n(".tabs__nav-btn",".tabs__item"),new l});
